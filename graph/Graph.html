<head>
  <title>Fake News Data Visualization</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
  <script src="https://cdn.rawgit.com/emn178/Chart.PieceLabel.js/master/build/Chart.PieceLabel.min.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
	<div style="padding: 20px">
	<canvas id="myChart" width = "80%" height = "50%" ></canvas>
	</div>
</body>

<script type="text/javascript">
//Read from file:
var topics = [['People'], ['Alamin'], ['Medium'], ['Share'], ['Country'], ['Illegal'], ['Jueteng'], ['Drug'], ['Pilipinas','Philippines', 'Philippine'],  ['President', 'Rodrigo','Duterte']]

// For drawing the lines
var percentage = [108/2457*100, 176/2457*100, 101/2457*100, 170/2457*100, 132/2457*100, 34/2457*100, 7/2457*100, 81/2457*100, 485/2457*100, 705/2457*100]


var ctx = document.getElementById("myChart");
var myChart = new Chart(ctx, {
  	type: 'bar',
  	data: {
  		labels: topics,
		datasets: [
			{
				yAxisID: 'A',
				data: percentage,
				//borderColor: "#3e95cd",
				//fill: false
				//backgroundColor: 
				backgroundColor: [
				  	'#223D58', 
				  	'#212724', 
				  	'#F3B13E', 
				  	'#B12418',
				  	'#6C120A',
				  	'#051519',
				  	'#153946',
				  	'#33768F',
				  	'#C8C8C8',
				  	'#A62C1A'
				]	
			},
			{
				yAxisID: 'B',
	         	data: [172, 176, 178, 181, 187, 187, 247, 291, 695, 971],
	          	type: 'bar',
	          	backgroundColor: [
				  	'#223D58', 
				  	'#212724', 
				  	'#F3B13E', 
				  	'#B12418',
				  	'#6C120A',
				  	'#051519',
				  	'#153946',
				  	'#33768F',
				  	'#C8C8C8',
				  	'#A62C1A'
				]
	         }
		],
  	},
  	options: {
  		legend: {
    		display: false
 		},
  		pieceLabel: {
		    render: 'label',
		    fontColor: 'white'
		},
		scales: {
	        yAxes:[{
	        	id: 'A',
                display: true,
                ticks: {
                    beginAtZero: true,
                    max: 100,
                    callback: function(value) {
               			return value + "%"
           			}
                },
                scaleLabel: {
        			display: true,
        			labelString: 'Percentage of Messages Containing the Word'
      			}
            },
            {
            	id: 'B',
                display: true,
                ticks: {
                    beginAtZero: true,
                    max: 1000
                },
                scaleLabel: {
        			display: true,
        			labelString: 'Number of Occurences of the Word for all Messages'
      			}
	       	}
	     	]
	   	},

	   	tooltips: {
            mode: 'index',
            intersect: false,
            callbacks: {
                label: function (t, d) {
                    if (t.datasetIndex === 0) {
                        return 'Percentage: ' + t.yLabel.toFixed(2) + '%';
                    } else if (t.datasetIndex === 1) {
                    	return 'Total Number of Occurences: ' + t.yLabel;
                    }
                      //  if (t.yLabel.toString().length === 9) {
                      //      return Math.round(+t.yLabel.toString().replace(/(\d{3})(.*)/, '$1.$2')) + 'M';
                       // } else return Math.round(+t.yLabel.toString().replace(/(\d{2})(.*)/, '$1.$2')) + 'M';
                }
            }
        }
  	}
});

</script>